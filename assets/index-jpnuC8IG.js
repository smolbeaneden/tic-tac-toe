var a=Object.defineProperty;var u=(l,e,t)=>e in l?a(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var n=(l,e,t)=>u(l,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();class d{constructor(){n(this,"boardSize");n(this,"turn");n(this,"board");n(this,"cells");this.boardSize=2,this.turn=1,this.board=[],this.cells=document.getElementsByClassName("cell");for(let e=0;e<this.cells.length;e++)this.cells[e].textContent="";for(let e=0;e<=this.boardSize;e++){this.board[e]=[];for(let t=0;t<=this.boardSize;t++)this.board[e][t]=0}console.log(this.board),this.hoverColor(),this.removeListeners(),this.getPlace()}getPlace(){for(let e=0;e<this.cells.length;e++)this.cells[e].addEventListener("click",()=>{this.checkEmpty(e)&&this.clickAction(e)})}clickAction(e){this.cells[e].innerHTML=this.getTurn(this.turn),this.board[Math.floor(e/3)][e%3]=this.turn,console.log(this.board);let t=this.cellValue(this.checkWin());if(t!=="")alert(`${t} won!`),this.removeListeners();else{let i=!0;for(let r=0;r<this.cells.length;r++)this.checkEmpty(r)&&(i=!1);i&&(alert("it's a tie!"),this.removeListeners())}this.turn*=-1,this.hoverColor()}hoverColor(){const e={X:"#bfddb9",O:"#d196a8"};document.documentElement.style.setProperty("--cell-hover-color",e[this.getTurn(this.turn)])}boardValue(e){return{X:1,O:-1}[e]}checkEmpty(e){return this.cells[e].textContent===""}getTurn(e=-1){if(e==-1)return"O";if(e==1)return"X";throw Error}cellValue(e=-1){if(e==-1)return"O";if(e==1)return"X";if(e==0)return"";throw Error}checkWin(){let e=[],t=[],i=[],r=[];console.log(this.board);for(let s=0;s<=this.boardSize;s++){i.push(this.board[s][s]),r.push(this.board[s][this.boardSize-s]),e=[],t=[];for(let o=0;o<=this.boardSize;o++)e.push(this.board[s][o]),t.push(this.board[o][s]);if(Math.abs(e[0]+e[1]+e[2])==3)return e[0];if(Math.abs(t[0]+t[1]+t[2])==3)return t[0]}return Math.abs(i[0]+i[1]+i[2])==3?i[0]:Math.abs(r[0]+r[1]+r[2])==3?r[0]:0}removeListeners(){for(let e=0;e<this.cells.length;e++){let t=this.cells[e],i=t.cloneNode(!0);t.parentNode.replaceChild(i,t)}}}const h=()=>{new d};var c;(c=document.getElementById("newGame"))==null||c.addEventListener("click",h);h();
